<!DOCTYPE html>
<html layout:decorator="layouts/template">
<head>
<title>Task List</title>
</head>
<body>
	<div layout:fragment="content">
		<h1>Item</h1>
		<div th:if="${#bools.isTrue(param.success)}" class="alert alert-success">
		Registration successfull!
		</div>
		<form th:action="@{/item/process-form/}" method="post">
			<input type="hidden" name="id" th:value="${item.id}" />
			<div class="form-group">
				<label>Name</label> <input type="text" class="form-control"
					id="itemInput" name="name" placeholder="Name"
					th:value="${item.name}" />
			</div>
			<div class="form-group">
				<label>Description</label> <input type="text" class="form-control"
					id="descriptionInput" name="description" placeholder="Description"
					th:value="${item.description}" />
			</div>
			<div class="form-group">
				<label>Stock</label> <input type="text" class="form-control"
					id="stockInput" name="stock" placeholder="Stock"
					th:value="${item.stock}" />
			</div>
			<div class="form-group">
				<label>Price</label> <input type="text" class="form-control"
					id="priceInput" name="price" placeholder="Price"
					th:value="${item.price}" />
			</div>
			<label>Select Category </label>
			<div class="form-group">
			<select
            name="category"
            class="form-control"
            id="categories">
            <option th:if="${item.category == null}"></option>
            <option th:each = "category : ${allCategories}" 
            th:selected="${item.category} != null AND ${category.id == item.category.id} ? selected" 
            th:value="${category.id}" th:text="${category.name}">
            </option>
          </select>
          </div>
			
			<button type="submit" class="btn btn-default">Submit</button>
		</form>
		<p>
			<a href="../home.html" th:href="@{/item/}">Return to Item list</a>
		</p>
	</div>
</body>
</html>
